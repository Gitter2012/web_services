# 设置面板测试指南 / Settings Panel Test Guide

## 服务器地址 / Server URL
**http://localhost:8000**

---

## 测试清单 / Test Checklist

### 1. 通知位置测试 / Notification Position Test
**目标**: 验证通知不再遮挡玩家信息和桌面

#### 桌面端测试 (Desktop)
- [ ] 加入游戏后，观察通知位置
  - ✓ 通知应该显示在右上角 (top: 20px, right: 20px)
  - ✓ 通知不应该遮挡中央的扑克桌
  - ✓ 通知不应该遮挡玩家信息
  - ✓ 通知背景为半透明黑色，带有白色边框阴影
  
- [ ] 添加AI玩家，观察"玩家加入"通知
  - ✓ 多条通知应该堆叠在右上角
  - ✓ 超过10条自动删除旧通知
  - ✓ 滚动条出现时应该可以查看历史通知

#### 移动端测试 (Mobile - 宽度 < 768px)
- [ ] 在移动设备或浏览器开发者工具的移动模式下测试
  - ✓ 通知应该占满屏幕宽度 (左右各留10px边距)
  - ✓ 字体大小减小为12px，更适合小屏幕
  - ✓ 最大高度限制为150px，避免占用过多屏幕空间

---

### 2. 设置面板功能测试 / Settings Panel Functionality Test

#### 打开/关闭面板 (Open/Close Panel)
- [ ] 点击"⚙️ 设置"按钮
  - ✓ 设置面板从屏幕中央淡入显示
  - ✓ 背景为半透明黑色 (rgba(0,0,0,0.95))
  - ✓ 面板带有金色边框和阴影效果
  
- [ ] 点击右上角"✕"关闭按钮
  - ✓ 设置面板淡出消失
  - ✓ 关闭按钮悬停时有旋转动画效果

#### A. 音效控制测试 (Sound Control)
- [ ] **音效开关切换**
  - ✓ 初始状态：开关应为激活状态（绿色）
  - ✓ 点击开关：切换为关闭状态（灰色）
  - ✓ 再次点击：切换回激活状态（绿色）
  - ✓ 开启时播放提示音效

- [ ] **音效实际效果**
  - ✓ 关闭音效后，发牌、下注等操作应该无声
  - ✓ 开启音效后，所有游戏操作恢复声音
  - ✓ 刷新页面后设置应该保持（localStorage持久化）

#### B. 音量控制测试 (Volume Control)
- [ ] **音量滑块调节**
  - ✓ 拖动滑块从0%到100%
  - ✓ 右侧百分比数字实时更新
  - ✓ 拖动时播放示例音效（发牌声）
  - ✓ 音量变化应该立即生效

- [ ] **音量效果验证**
  - ✓ 设置为0%：所有声音完全静音
  - ✓ 设置为50%：声音减半
  - ✓ 设置为100%：声音最大
  - ✓ 刷新页面后音量设置保持

#### C. 动画效果测试 (Animation Control)
- [ ] **动画开关切换**
  - ✓ 初始状态：开关应为激活状态（动画开启）
  - ✓ 点击关闭：所有CSS动画和过渡效果立即停止
  - ✓ 观察效果：牌面翻转、筹码移动等应该立即完成，无动画
  - ✓ 点击开启：所有动画效果恢复

- [ ] **无动画模式验证**
  - ✓ 关闭后，body元素应该有"no-animation"类
  - ✓ 设置面板打开/关闭仍然有淡入淡出效果（设置面板自身不受影响）
  - ✓ 刷新页面后设置保持

#### D. 自动开始测试 (Auto-Start Control)
- [ ] **自动开始开关**
  - ✓ 初始状态：开关应为激活状态（自动开始开启）
  - ✓ 点击关闭：倒计时功能禁用
  - ✓ 点击开启：倒计时功能启用

- [ ] **自动开始效果验证**
  - ✓ 开启时：完成一局后应该出现倒计时（例如"下一局将在 5 秒后开始..."）
  - ✓ 关闭时：完成一局后不出现倒计时，需要手动点击"开始游戏"
  - ✓ 刷新页面后设置保持

#### E. 主题选择测试 (Theme Selection)
- [ ] **经典蓝主题 (Classic Blue)**
  - ✓ 点击"经典蓝"按钮
  - ✓ 页面刷新并应用默认渐变背景
  - ✓ localStorage中theme值为"default"

- [ ] **扑克绿主题 (Poker Green)**
  - ✓ 点击"扑克绿"按钮
  - ✓ 页面刷新
  - ✓ body元素应该有"theme-green"类
  - ✓ localStorage中theme值为"green"
  - ⚠️ **注意**：绿色主题CSS可能尚未定义，视觉效果可能与默认相同

- [ ] **暗黑主题 (Dark Theme)**
  - ✓ 点击"暗黑"按钮
  - ✓ 页面刷新
  - ✓ body元素应该有"theme-dark"类
  - ✓ localStorage中theme值为"dark"
  - ⚠️ **注意**：暗黑主题CSS可能尚未定义，视觉效果可能与默认相同

---

### 3. 移动端适配测试 / Mobile Responsiveness Test

#### 使用Chrome DevTools测试
1. 按F12打开开发者工具
2. 点击设备模拟按钮（Ctrl+Shift+M）
3. 选择不同设备进行测试

#### 推荐测试设备
- [ ] **iPhone SE (375x667)**
  - ✓ 设置面板宽度为90%屏幕宽度
  - ✓ 字体大小适当缩小
  - ✓ 所有按钮可点击，无溢出
  
- [ ] **iPhone 12 Pro (390x844)**
  - ✓ 设置面板垂直居中
  - ✓ 滚动流畅，无遮挡
  
- [ ] **iPad (768x1024)**
  - ✓ 接近平板尺寸，布局合理
  
- [ ] **Samsung Galaxy S20 (360x800)**
  - ✓ 最小屏幕测试
  - ✓ 所有控件可用

#### 移动端特定检查项
- [ ] **设置面板**
  - ✓ 宽度为90%，最大400px
  - ✓ 内边距减小到20px
  - ✓ 标题字体20px
  - ✓ 开关尺寸50x25px（桌面60x30px）
  
- [ ] **通知消息**
  - ✓ 占满屏幕宽度（左右10px边距）
  - ✓ 字体12px
  - ✓ 最大高度150px
  
- [ ] **游戏控制**
  - ✓ 按钮自动换行（flex-wrap）
  - ✓ 字体13px，内边距减小
  - ✓ 所有按钮可点击，无重叠

---

### 4. 持久化测试 / Persistence Test

#### localStorage验证
打开浏览器控制台（F12 → Console），输入以下命令检查：

```javascript
// 查看所有设置
console.log('音效开关:', localStorage.getItem('soundEnabled'));
console.log('音量:', localStorage.getItem('volume'));
console.log('动画开关:', localStorage.getItem('animationEnabled'));
console.log('自动开始:', localStorage.getItem('autoStartEnabled'));
console.log('主题:', localStorage.getItem('theme'));
```

#### 持久化测试步骤
1. [ ] 修改所有5个设置
2. [ ] 记录每个设置的值
3. [ ] 完全关闭浏览器标签页
4. [ ] 重新打开 http://localhost:8000
5. [ ] 打开设置面板
6. [ ] 验证所有设置值与之前一致

---

### 5. 边界情况测试 / Edge Case Test

- [ ] **多次快速点击**
  - ✓ 快速点击开关不应该导致状态错乱
  - ✓ 快速拖动音量滑块不应该卡顿

- [ ] **极端音量设置**
  - ✓ 音量0%时完全静音
  - ✓ 音量100%时不失真

- [ ] **同时操作多个设置**
  - ✓ 关闭音效 + 关闭动画 + 关闭自动开始
  - ✓ 所有设置应该独立工作，互不影响

- [ ] **页面刷新时机**
  - ✓ 游戏进行中刷新页面，设置应该保持
  - ✓ 切换主题后刷新，新主题应该立即生效

---

## 已知问题 / Known Issues

1. **主题CSS未定义** (Theme CSS Not Defined)
   - `theme-green` 和 `theme-dark` 的CSS规则尚未实现
   - 主题切换功能正常，但视觉效果可能与默认主题相同
   - 需要添加具体的背景渐变和配色方案

---

## 性能检查 / Performance Check

- [ ] **页面加载时间**
  - ✓ 首次加载应该在2秒内完成
  
- [ ] **设置面板动画流畅度**
  - ✓ 淡入淡出60fps无卡顿
  
- [ ] **音效延迟**
  - ✓ 点击按钮到播放声音延迟小于50ms

---

## 浏览器兼容性测试 / Browser Compatibility

推荐测试浏览器：
- [ ] Chrome 90+
- [ ] Firefox 88+
- [ ] Safari 14+
- [ ] Edge 90+

---

## 测试结论 / Test Conclusion

完成测试后，请记录：
- ✅ 通过的测试项数量：_____ / _____
- ❌ 失败的测试项：
  1. _________________
  2. _________________
- 💡 改进建议：
  1. _________________
  2. _________________

---

**测试日期**: _____________  
**测试人员**: _____________  
**浏览器版本**: _____________  
**设备**: _____________
