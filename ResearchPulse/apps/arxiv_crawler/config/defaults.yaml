# arXiv Crawler App Defaults
# ==========================
# App-specific defaults. Project /config/defaults.yaml overrides these.
# Schema must match apps.arxiv_crawler in project defaults.
#
# Precedence (highest to lowest):
# 1. Environment variables
# 2. .env file (secrets)
# 3. /config/defaults.yaml apps.arxiv_crawler (project overrides)
# 4. This file (app defaults)
# 5. Hardcoded Python defaults

arxiv:
  categories: "cs.LG,cs.CV"
  main_category: ""
  max_results: 50
  min_results: 10
  fallback_days: 7
  abstract_max_len: 800
  # HTTP anti-blocking settings
  http_delay_base: 3.0        # Base delay (seconds) before each request
  http_delay_jitter: 1.5      # Random jitter +/- (seconds) added to delay
  arxiv_batch_delay: 10.0     # Delay (seconds) between category crawls
  http_cache_ttl: 3600        # Response cache TTL (seconds)
  urls:
    base: "https://export.arxiv.org/api/query"
    rss: "https://export.arxiv.org/rss/{category}"
    html_list_new: "https://arxiv.org/list/{category}/new"
    html_list_recent: "https://arxiv.org/list/{category}/recent"
    html_list: "https://arxiv.org/list/{category}/new"
    html_search: "https://arxiv.org/search/?query={category}&searchtype=all&abstracts=show&order=-announced_date_first&size={size}"

schedule:
  hour: 0
  minute: 0
  timezone: "UTC"

date_window:
  days: 2
  timezone: "Asia/Shanghai"

email:
  enabled: true
  html_enabled: true
  from: "your-email@example.com"
  to: "recipient1@example.com,recipient2@example.com"

smtp:
  profiles: "1,2"
  profile_defaults:
    "1":
      host: "smtp.gmail.com"
      user: "your-email@example.com"
      port: 587
      tls: true
      ssl: false
    "2":
      host: "smtp.gmail.com"
      user: "your-email@example.com"
      port: 465
      tls: false
      ssl: true
  port: 587
  ports: ""
  ssl_ports: "465"
  timeout: 10.0
  retries: 5
  retry_backoff: 30.0
  tls: true
  ssl: false
