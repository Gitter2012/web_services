# ResearchPulse Logging Configuration
# ====================================
# Logging configuration with per-app overrides.
# App-specific loggers override project-level defaults.
#
# Log levels: DEBUG < INFO < WARNING < ERROR < CRITICAL

version: 1
disable_existing_loggers: false

formatters:
  standard:
    format: '%(asctime)s | %(levelname)-8s | %(name)s | %(filename)s:%(lineno)d | %(message)s'
  simple:
    format: '%(levelname)s | %(name)s | %(message)s'

handlers:
  console:
    class: logging.StreamHandler
    level: DEBUG
    formatter: standard
    stream: ext://sys.stdout
  file:
    class: logging.handlers.RotatingFileHandler
    level: DEBUG
    formatter: standard
    filename: ./logs/app.log
    maxBytes: 104857600  # 100MB
    backupCount: 5

loggers:
  # ======================
  # App-specific overrides
  # ======================
  # These override the root logger settings for specific modules.
  # Precedence: app logger > root logger

  apps.arxiv_crawler:
    level: INFO
    handlers: [console, file]
    propagate: false

  apps.arxiv_ui:
    level: INFO
    handlers: [console]
    propagate: false

  # ======================
  # Common module logging
  # ======================
  common:
    level: INFO
    handlers: [console]
    propagate: false

  common.email:
    level: INFO
    handlers: [console, file]
    propagate: false

  common.http:
    level: WARNING
    handlers: [console]
    propagate: false

  # ======================
  # Third-party libraries
  # ======================
  httpx:
    level: WARNING
    handlers: [console]
    propagate: false

  apscheduler:
    level: WARNING
    handlers: [console]
    propagate: false

  uvicorn:
    level: INFO
    handlers: [console]
    propagate: false

root:
  level: WARNING
  handlers: [console]
